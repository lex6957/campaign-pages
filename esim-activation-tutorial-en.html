<main id="maincontent" class="page-main">
  <meta
    name="viewport"
    content="width=device-width, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"
  />
  <style>
    body {
      background-color: #fdfdfd; /* Set background color */
      margin: 0; /* Remove default margin */
      font-family: Open Sans; /* Set a default font */
    }
    p,
    ol,
    ul {
      margin: 0; /* Remove default margin */
    }
    ul {
      padding-inline-start: 0;
      list-style: none;
    }
    ol {
      padding-inline-start: 18px;
    }

    /* Default style for anchor links */
    a {
      text-decoration: none; /* No underline */
      color: black; /* Set link color to black */
      position: relative; /* Positioning for the border */
      display: block; /* Make anchor fill the entire cell */
      padding: 10px 0; /* Space for the bottom border */
      outline: none; /* Remove focus outline */
    }

    /* Style for clicked links */
    a.clicked::after {
      content: ""; /* Required for pseudo-element */
      position: absolute; /* Positioning for the border */
      left: 0; /* Align to the left */
      bottom: 0; /* Position at the bottom */
      height: 4px; /* Height of the border */
      background-color: #0cd7d5; /* Thicker cyan bottom border */
      border-radius: 2px; /* Rounded ends */
      width: 100%; /* Full width */
    }

    a:visited {
      color: black; /* Color for visited links */
    }
    a:active {
      color: black; /* Color for visited links */
    }
    /* Sticky table style */
    .tabs {
      width: 100%;
      position: sticky; /* Make the table sticky */
      top: 0; /* Stick to the top */
      z-index: 10; /* Ensure it stays on top of other content */
      font-weight: 600;
      display: flex;
      margin: 10px 0;
      background-color: #fdfdfd;
    }
    .tabs-item {
      width: 180px;
      font-size: 16px;
      text-align: center;
      color: #000;
      margin-right: 24px;
    }

    .active {
      display: block; /* Show active content */
    }

    .override {
      color: #0026ca !important;
    }
    .hide {
      display: none;
    }
    .activation-box {
      margin-top: 32px;
    }
    .content-li {
      display: flex;
      justify-content: space-between;
      margin-top: 64px;
    }
    .content-li ol {
      max-width: 445px;
    }
    .content-image {
      width: 316px;
      height: auto;
    }
    .text-14 {
      font-size: 14px;
      line-height: 18px;
      font-weight: 400;
    }
    .mb-24 {
      margin-bottom: 24px;
    }

    @media screen and (max-width: 959px) {
      .tabs-item {
        flex: 1;
        width: auto;
        margin-right: 0;
      }
      .activation-box {
        margin-top: 24px;
      }
      .content-li {
        display: block;
        margin-top: 24px;
      }
      .content-image {
        margin-top: 16px;
        width: 100%;
      }
    }
  </style>
  <style>
    .show {
      z-index: 100 !important;
      opacity: 1 !important;
    }
    .img-show {
      opacity: 1 !important;
    }
    .image-popup {
      position: fixed;
      left: 0;
      top: 0;
      width: 100%;
      height: 100%;
      display: flex;
      align-items: center;
      justify-content: center;
      background-color: rgba(0, 0, 0, 0.4);
      box-shadow: 0px 5px 10px 0px rgba(144, 224, 239, 0.25);
      transition: all 0.3s linear;
      z-index: -1;
      opacity: 0;
    }
    .image-wrapper {
      width: 538px;
      padding: 10px 10px 44px 10px;
      border-radius: 10px;
      opacity: 0;
      background-color: #ffffff;
      transition: opacity 0.3s ease-in-out;
      transition-delay: 0.3s;
    }
    .image-header {
      margin-bottom: 10px;
      display: flex;
      justify-content: end;
    }
    .image-close {
      cursor: pointer;
    }
    .image-popup__img {
      margin: 24px 0;
      width: 100%;
      height: auto;

      max-height: calc(100vh - 80px - 100px);
    }
    .image-loading {
      background-color: #eee;
      height: 400px;
      transition: height 0.3s linear;
    }
  </style>
  <script class="attachShadow">
    // When loading a page through the esim website, there will be a variable window._shadowRoot
    // don't use const/let in global scope in shadow root, use var instead
    // use IIFE to avoid polluting the global scope

    (function () {
      var root = window._shadowRoot || document;
      function tabInit() {
        const tabs = root.querySelectorAll(".tabs-item");
        tabs.forEach((tab) => {
          tab.addEventListener("click", function (event) {
            underlineLink(this);
          });
        });
      }
      function underlineLink(link) {
        // Remove 'clicked' class from all links
        const links = root.querySelectorAll("a");
        links.forEach((l) => l.classList.remove("clicked"));
        // Add 'clicked' class to the clicked link
        link.classList.add("clicked");
        const selector = link.getAttribute("href");
        resetActivationClass();
        const iosActivation = root.querySelector("#ios-activation");
        const aosActivation = root.querySelector("#aos-activation");
        if (selector === "#ios-activation") {
          iosActivation.classList.add("active");
          aosActivation.classList.add("hide");
        } else if (selector === "#aos-activation") {
          aosActivation.classList.add("active");
          iosActivation.classList.add("hide");
        }
        window.scrollTo(0, 0);
      }
      function getESimMobileOS() {
        var userAgent = navigator.userAgent || navigator.vendor || window.opera;
        if (/android/i.test(userAgent)) {
          return "Android";
        }
        if (
          /iPad|iPhone|iPod/.test(userAgent) &&
          !window.MSStream &&
          !window.navigator.standalone &&
          /Safari/.test(userAgent)
        ) {
          return "iOS-Safari";
        }
        return null;
      }
      function resetActivationClass() {
        const iosActivation = root.querySelector("#ios-activation");
        const aosActivation = root.querySelector("#aos-activation");
        iosActivation.classList.remove("active");
        iosActivation.classList.remove("hide");
        aosActivation.classList.remove("active");
        aosActivation.classList.remove("hide");
      }
      function preselectTab() {
        let OS = "#ios";
        const type = getESimMobileOS();
        if (type === "Android") {
          OS = "#aos";
        } else if (type === "iOS-Safari") {
          OS = "#ios";
        }
        const selector = OS + "-activation";
        // Automatically click the iOS tab and show its content
        const osLink = root.querySelector('a[href="' + selector + '"]');
        underlineLink(osLink);
        // Scroll to the corresponding section
        location.hash = selector;
      }

      function changeTabPosition() {
        const tabs = root.querySelector(".tabs");
        const header = document.querySelector("#header");
        // console.log("header", header);
        if (header) {
          tabs.style.top = header.offsetHeight + "px";
        }
      }
      if (window._shadowRoot) {
        tabInit();
        preselectTab();
        changeTabPosition();
        imagePopupInit();
        window.addEventListener("resize", changeTabPosition);
      } else {
        document.addEventListener("DOMContentLoaded", function () {
          tabInit();
          preselectTab();
          imagePopupInit();
        });
      }

      function isMobile() {
        return window.innerWidth <= 959; // Adjust the width as needed
      }

      function imagePopupInit() {
        const images = root.querySelectorAll(".content-image");
        const $popup = root.querySelector(".image-popup");
        const $popupWrapper = $popup.querySelector(".image-wrapper");
        const $popupImg = $popup.querySelector(".image-popup__img");
        const $close = $popup.querySelector(".image-close");

        $popupImg.addEventListener("load", function () {
          $popupImg.classList.remove("image-loading");
        });

        images.forEach((image) => {
          image.addEventListener("click", function () {
            const src = this.getAttribute("src");
            if (!src || isMobile()) return;
            openImagePopup(src);
          });
        });

        $close.addEventListener("click", function () {
          $popup.classList.remove("show");
          $popupWrapper.classList.remove("img-show");
          setTimeout(() => {
            $popupImg.setAttribute("src", "");
          }, 500);
        });

        function openImagePopup(src) {
          $popupImg.classList.add("image-loading");
          $popupImg.setAttribute("src", src);
          $popupWrapper.classList.add("img-show");
          $popup.classList.add("show");
        }
      }
    })();
  </script>

  <div class="tabs">
    <a class="tabs-item" href="#ios-activation">iOS</a>
    <a class="tabs-item" href="#aos-activation">Android</a>
  </div>
  <div id="ios-activation" class="activation-box active">
    <p class="text-14 content-title">
      Please only do the following steps when you arrive at your destination.
    </p>
    <ul class="content-box" style="font-size: 14px">
      <li class="content-li">
        <ol>
          <li>
            Open <strong>Settings</strong> on your iOS device and go to
            <strong>Cellular </strong>or<strong> Mobile Service</strong>.
          </li>
          <li>Under <strong>SIMs, </strong>tap on your SUNDAY eSIM.</li>
        </ol>
        <img
          class="content-image"
          src="https://api-dev.sunday.com/media/wysiwyg/esim/ios_activate_1.png"
          border="0"
          alt=""
          width="633"
          height="529"
        />
      </li>
      <li class="content-li">
        <ol start="3">
          <li>
            Make sure the following buttons are turned on:
            <br />a.&nbsp;&nbsp;&nbsp;<strong>Turn On This Line</strong>
            <br />b.&nbsp;&nbsp;&nbsp;<strong>Data Roaming</strong>
          </li>
          <li>
            Go back to the previous page and tap <strong>Cellular</strong> or
            <strong>Mobile Service</strong>.
          </li>
        </ol>
        <img
          class="content-image"
          src="https://api-dev.sunday.com/media/wysiwyg/esim/ios_activate_2.png"
          border="0"
          alt=""
          width="633"
          height="529"
        />
      </li>

      <li class="content-li">
        <ol start="5">
          <li>
            Select your SUNDAY eSIM and check that the option
            <strong>Allow Cellular Data Switching</strong> is DISABLED to avoid
            unexpected charges to your primary line.
          </li>
        </ol>
        <img
          class="content-image"
          src="https://api-dev.sunday.com/media/wysiwyg/esim/ios_activate_3.png"
          border="0"
          alt=""
          width="633"
          height="529"
        />
      </li>
    </ul>
  </div>
  <div id="aos-activation" class="activation-box">
    <p class="text-14 content-title">
      Please only do the following steps when you arrive at your destination.
    </p>
    <ul class="content-box" style="font-size: 14px">
      <li class="content-li">
        <ol start="1">
          <li>Open <b>Settings</b> on your Android device.</li>
          <li>
            Go to <b>Settings</b> &gt; <b>Connections</b>,
            <b>Network &amp; Internet</b> or <b>Mobile Network</b>.
          </li>
          <li>
            Select <b>SIM Manager</b>,<b> Mobile Network </b>or<b> SIM Cards</b>
            and choose your SUNDAY eSIM.
          </li>
        </ol>
        <img
          class="content-image"
          src="https://api-dev.sunday.com/media/wysiwyg/esim/activate_1.png"
          border="0"
          alt=""
          width="633"
          height="529"
        />
      </li>

      <li class="content-li">
        <ol start="4">
          <li>
            Enable the eSIM as well as data roaming. If there is any, make sure
            the option <b>Data switching</b> is DISABLED to avoid unexpected
            charges to your primary line.
          </li>
        </ol>
        <img
          class="content-image"
          src="https://api-dev.sunday.com/media/wysiwyg/esim/activate_2.png"
          border="0"
          alt=""
          width="633"
          height="529"
        />
      </li>
    </ul>
  </div>

  <!-- image popup -->
  <div class="image-popup">
    <div class="image-wrapper">
      <div class="image-header">
        <svg
          class="image-close"
          xmlns="http://www.w3.org/2000/svg"
          width="24"
          height="24"
          viewBox="0 0 24 24"
          fill="none"
        >
          <path
            d="M18 6L6 18M6 6L18 18"
            stroke="#1A1A1A"
            stroke-width="1.8"
            stroke-linecap="round"
            stroke-linejoin="round"
          />
        </svg>
      </div>
      <div class="image-content">
        <img class="image-popup__img" src="" alt="Image" />
      </div>
    </div>
  </div>
</main>
